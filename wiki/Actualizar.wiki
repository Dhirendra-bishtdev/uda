#summary Actualizar a la última versión disponible
#labels Phase-Deploy,Featured

En esta sección iremos indicando como mantenerse actualizado con las últimas versiones disponibles de los componentes de <img src="http://uda.googlecode.com/svn/wiki/images/uda-mini-micro2.png"/>, es decir, cuando ya se dispone de una aplicación generada, y se desea incorporar las últimas actualizaciones.
<p> 
Si lo que buscas es información sobre como mantener tu entorno de desarrollo actualizado, debes consultar la sección [http://code.google.com/p/uda/wiki/Instalar "Instalar"]. 

<h3>09-Julio-2011</h3>
<ol>
<li>Cambiar la carpeta {{{<APP>}}}Statics\WebContent\rup por la carpeta incluida en el fichero [http://uda.googlecode.com/files/rup-v1.0.1.zip rup-v1.0.1.zip]</li>
<li>Modificar la inclusión de los ficheros CSS (template) y JS (base-includes):

    {{{<xxxYYY>}}}War\WebContent\WEB-INF\layouts\template.jsp (líneas 17-32):
{{{
<!-- Patrones (basic-theme) -->
<link href="${staticsUrl}/rup/basic-theme/theme.rup.base-1.0.1.css" rel="stylesheet" type="text/css" />
<link href="${staticsUrl}/rup/basic-theme/theme.rup.autocomplete-1.0.1.css" rel="stylesheet" type="text/css" />
<link href="${staticsUrl}/rup/basic-theme/theme.rup.breadCrumb-1.0.1.css" rel="stylesheet" type="text/css" />
<link href="${staticsUrl}/rup/basic-theme/theme.rup.combo-1.0.1.css" rel="stylesheet" type="text/css" />
<link href="${staticsUrl}/rup/basic-theme/theme.rup.date-1.0.0.css" rel="stylesheet" type="text/css" />
<link href="${staticsUrl}/rup/basic-theme/theme.rup.feedback-1.0.1.css" rel="stylesheet" type="text/css" />
<link href="${staticsUrl}/rup/basic-theme/theme.rup.grid-1.0.1.css" rel="stylesheet" type="text/css" />
<link href="${staticsUrl}/rup/basic-theme/theme.rup.lang-1.0.1.css" rel="stylesheet" type="text/css" />
<link href="${staticsUrl}/rup/basic-theme/theme.rup.maint-1.0.1.css" rel="stylesheet" type="text/css" />
<link href="${staticsUrl}/rup/basic-theme/theme.rup.menu-1.0.1.css" rel="stylesheet" type="text/css" />
<link href="${staticsUrl}/rup/basic-theme/theme.rup.messages-1.0.1.css" rel="stylesheet" type="text/css" />
<link href="${staticsUrl}/rup/basic-theme/theme.rup.tabs-1.0.1.css" rel="stylesheet" type="text/css" />
<link href="${staticsUrl}/rup/basic-theme/theme.rup.time-1.0.0.css" rel="stylesheet" type="text/css" />
<link href="${staticsUrl}/rup/basic-theme/theme.rup.toolbar-1.0.1.css" rel="stylesheet" type="text/css" />
<link href="${staticsUrl}/rup/basic-theme/theme.rup.tooltip-1.0.0.css" rel="stylesheet" type="text/css" />
}}}
			
    **NOTA: En caso de tener templateVertical.jsp o templateMixto.jsp el cambio sería idéntico

    {{{<xxxYYY>}}}\WebContent\WEB-INF\layouts\base-includes.jsp (líneas 15-56):
{{{
<!-- jQuery 1.4.4 -->
<script src="${staticsUrl}/rup/scripts/core/jquery-1.4.4.js" type="text/javascript"></script>

<!-- RUP-CORE -->
<script src="${staticsUrl}/rup/scripts/rup.utils-1.0.1.js" type="text/javascript"></script>
<script src="${staticsUrl}/rup/scripts/rup.base-1.0.1.js" type="text/javascript"></script>

<!-- jQuery UI 1.8.11 (+ patrones subyacentes) -->
<script src="${staticsUrl}/rup/scripts/core/jquery.blockUI.js" type="text/javascript"></script>
<script src="${staticsUrl}/rup/scripts/core/xbreadcrumbs.js" type="text/javascript"></script>
<script src="${staticsUrl}/rup/scripts/core/ui/jquery-ui-1.8.11.custom.js" type="text/javascript"></script>
<script src="${staticsUrl}/rup/scripts/core/ui/jquery.ui.autocomplete.js" type="text/javascript"></script>
<script src="${staticsUrl}/rup/scripts/core/ui/jquery.ui.menu.js" type="text/javascript"></script>
<script src="${staticsUrl}/rup/scripts/core/ui/jquery-ui.multidatespicker.js" type="text/javascript"></script>
<script src="${staticsUrl}/rup/scripts/core/ui/jquery.ui.selectmenu.js" type="text/javascript"></script><!-- combo -->
<script src="${staticsUrl}/rup/scripts/core/ui/jquery-ui.timepicker.js" type="text/javascript"></script>
	
<!-- jqGrid 3.8.1 -->
<script src="${staticsUrl}/rup/scripts/core/jqGrid.min-3.8.1.js" type="text/javascript"></script>
   
<!-- Utilidades adicionales -->
<script src="${staticsUrl}/rup/scripts/core/jquery.form.js" type="text/javascript"></script>
<script src="${staticsUrl}/rup/scripts/core/jquery.json-2.2.js" type="text/javascript"></script>
<script src="${staticsUrl}/rup/scripts/core/form2object.js" type="text/javascript"></script>
<script src="${staticsUrl}/rup/scripts/core/jquery.numeric.js" type="text/javascript"></script>

<!-- Patrones RUP -->
<script src="${staticsUrl}/rup/scripts/rup.autocomplete-1.0.1.js" type="text/javascript"></script>
<script src="${staticsUrl}/rup/scripts/rup.breadCrumb-1.0.1.js" type="text/javascript"></script>
<script src="${staticsUrl}/rup/scripts/rup.combo-1.0.1.js" type="text/javascript"></script>
<script src="${staticsUrl}/rup/scripts/rup.date-1.0.0.js" type="text/javascript"></script>
<script src="${staticsUrl}/rup/scripts/rup.dialog-1.0.1.js" type="text/javascript"></script>
<script src="${staticsUrl}/rup/scripts/rup.feedback-1.0.1.js" type="text/javascript"></script>
<script src="${staticsUrl}/rup/scripts/rup.grid-1.0.1.js" type="text/javascript"></script>
<script src="${staticsUrl}/rup/scripts/rup.lang-1.0.1.js" type="text/javascript"></script>
<script src="${staticsUrl}/rup/scripts/rup.maint-1.0.1.js" type="text/javascript"></script>
<script src="${staticsUrl}/rup/scripts/rup.menu-1.0.1.js" type="text/javascript"></script>
<script src="${staticsUrl}/rup/scripts/rup.message-1.0.1.js" type="text/javascript"></script>
<script src="${staticsUrl}/rup/scripts/rup.tabs-1.0.1.js" type="text/javascript"></script>
<script src="${staticsUrl}/rup/scripts/rup.time-1.0.0.js" type="text/javascript"></script>
<script src="${staticsUrl}/rup/scripts/rup.toolbar-1.0.1.js" type="text/javascript"></script>
<script src="${staticsUrl}/rup/scripts/rup.tooltip-1.0.0.js" type="text/javascript"></script>
}}}
</li>			
<li>Añadir la siguiente cabecera para soporte nativo de IE8 en templates.jsp (línea 8):

{{{
<meta http-equiv="X-UA-Compatible" content="IE=8" />
}}}
	
    **NOTA: En caso de tener templateVertical.jsp o templateMixto.jsp el cambio sería idéntico
</li>	

<li>Actualizar el fichero [http://uda.googlecode.com/svn/wiki/files/security-core-config.xml "security-core-config.xml"] (a nivel de WAR)

    **NOTA: Este fichero no está disponible en la sección de "downloads", por tanto, decárgatelo desde el enlace anterior.
</li>
<li>Aumentar el tiempo de cacheo en el fichero "security-config.xml" (a nivel de WAR) de 2 a 120 para cuando se usa el wrapper de n38 (línea 7):

{{{
<property name="xlnetCachingPeriod" value="120" />
}}}
	
    **NOTA: Antes la configuración era en minutos y actualmente el valor es en segundos
</li>

<li>Modificar el pom.xml del EAR para permitir SNAPSHOT del repositorio de OTC {{{"<enabled>true</enabled>"}}} (línea 160):

{{{
<repositories>
    <repository>
	<id>ejie</id>
	<name>ejie</name>
	<url>http://www.otc.ejiedes.net/archiva/repository/repoEJIE</url>
	<snapshots>
		<enabled>true</enabled>
	</snapshots>
    </repository>
</repositories>
}}}
</li>
<li>Actualizar x38ShLibClasses a la versión 1.0.1 [http://uda.googlecode.com/files/x38ShLibClasses-1.0.1.jar x38ShLibClasses-1.0.1.jar]. Puedes copiar directamente la librería sobre el subdirectorio APP-INF/lib del EAR, o bien seguir estos pasos (recomendado):
<ul>
<li>En el fichero pom.xml del EAR actualiza la versión de x38:
{{{
<dependency>
<groupId>com.ejie.x38</groupId>
<artifactId>x38ShLibClasses</artifactId>
<version>1.0.1</version>
</dependency>
}}}
</li>
<li>Abre el build.xml del proyecto EAR con el editor ant (botón derecho sobre el fichero, Open With>Ant Editor)</li>
<li>Ejecuta la tarea "mavenRunDependencies" (botón derecho sobre la tarea, Run As>Ant Build)</li>
</ul>
</li>
<li>Para no tener problemas con los caracteres acentuados, eñes, etc. incluye en el fichero weblogic.xml de todos tus WARs lo siguiente (línea 5):
{{{
<wls:jsp-descriptor>
    <wls:encoding>UTF-8</wls:encoding>
</wls:jsp-descriptor> 
}}}
</li>
<li>A partir de la versión 1.0.1 los mantenimientos no requieren que el identificador de su capa comience con "{{{EJIE_MAINT_}}}". Debido a este cambio es posible que sea necesario realizar las siguientes modificaciones en las páginas que utilicen el componente mantenimiento:
<ul>
<li>En las jsp creadas de acuerdo a la versión 1.0.0 el identificador de la capa del mantenimiento será "EJIE_MAINT_nombre", siendo "nombre" el literal identificador del mantenimiento. De acuerdo a los cambios realizados el identificador de la capa deberá ser "nombre". Por ejemplo sustiuir {{{<div id="EJIE_MAINT_usuarios">}}} por {{{<div id="usuarios">}}}.</li>
<li>Del mismo modo, se deberá de modificar en el fichero js asociado a la jsp, la llamada que se realiza para la construcción del componente mantenimiento de modo que se referencie correctamente al nuevo identificador. Siguiendo el mismo ejemplo, se debería de modificar la llamada existente {{{$("#EJIE_MAINT_usuarios").rup_maint(}}} por {{{$("#usuarios").rup_maint(}}}</li>
</ul>
</li>
</ol>